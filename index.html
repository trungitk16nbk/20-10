<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💌 Gửi Em Yêu Ngày 20/10 💖</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff6b6b; /* Soft Red/Pink */
            --secondary-color: #ffcc5c; /* Gold/Yellow */
            --background-start: #fce3ec; /* Very Light Pink */
            --background-end: #e6e9f0; /* Light Gray/Blue */
            --text-color: #333;
            --love-text-color: #a20025;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, var(--background-start) 0%, var(--background-end) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            color: var(--text-color);
        }

        .container {
            width: 100%;
            max-width: 900px;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }

        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: var(--primary-color);
            margin-bottom: 5px;
            text-shadow: 0 4px 10px rgba(255, 107, 107, 0.4);
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.5rem;
            color: var(--love-text-color);
            text-shadow: 0 1px 5px rgba(0,0,0,0.1);
            font-weight: 600;
        }

        .main-content {
            background: rgba(255,255,255,0.95);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            animation: fadeInUp 1s ease-out 0.2s both;
            border: 5px solid var(--primary-color);
        }

        .hearts-container {
            text-align: center;
            margin-bottom: 40px;
            height: 50px;
            position: relative;
        }

        .heart-float {
            display: inline-block;
            font-size: 3.5rem;
            animation: float 3s ease-in-out infinite;
            margin: 0 15px;
            filter: drop-shadow(0 0 5px rgba(255, 107, 107, 0.8));
        }

        .heart-float:nth-child(1) { animation-delay: 0s; }
        .heart-float:nth-child(2) { animation-delay: 0.3s; }
        .heart-float:nth-child(3) { animation-delay: 0.6s; }

        .message {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            line-height: 1.5;
            font-weight: 700;
            animation: fadeIn 1.5s ease-out 0.5s both;
        }

        /* GIFT BOX STYLES - MAIN INTERACTION POINT */
        .gift-box {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            width: 180px;
            height: 180px;
            margin: 30px auto;
            border-radius: 20px;
            position: relative;
            animation: pulse 2s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s;
            box-shadow: 0 15px 40px rgba(252, 169, 172, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }

        .gift-box:hover {
            transform: scale(1.05) rotate(-2deg);
            box-shadow: 0 20px 50px rgba(255, 107, 107, 0.8); /* Tăng shadow khi hover */
        }
        
        /* ... (Giữ nguyên các style khác cho gift box, love-text, gallery, modal) ... */
        .gift-box-icon {
            z-index: 10;
            position: relative;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        .gift-ribbon {
            position: absolute;
            width: 30px;
            height: 100%;
            background: var(--secondary-color);
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 15px rgba(255, 204, 92, 0.8);
            z-index: 5;
        }

        .gift-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(135deg, #ffccf2 0%, #ffc6b5 100%);
            border-radius: 20px 20px 0 0;
            z-index: 4;
        }

        .gift-bow {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: var(--secondary-color);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 204, 92, 0.9);
            z-index: 6;
        }

        .love-text {
            text-align: center;
            font-size: 1.2rem;
            color: var(--love-text-color);
            line-height: 1.8;
            margin: 30px 0;
            font-style: italic;
            font-weight: 500;
            padding: 15px;
            border: 1px dashed var(--primary-color);
            border-radius: 10px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 40px 0;
        }

        .gallery-item {
            width: 100%;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ffd1df 0%, #ff8a8a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            cursor: pointer;
            transition: all 0.3s;
            animation: fadeInUp 1s ease-out;
            animation-fill-mode: both;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .gallery-item:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
            background: linear-gradient(45deg, #ff8a8a 0%, #ffd1df 100%);
        }

        /* Heart Falling Animation */
        .falling-heart {
            position: fixed;
            top: -50px;
            left: 0;
            font-size: 2rem;
            pointer-events: none;
            animation: heartFall linear forwards;
            z-index: 9999;
            filter: drop-shadow(0 0 5px rgba(255, 204, 92, 0.8));
        }

        @keyframes heartFall {
            to {
                transform: translateY(105vh) rotate(540deg);
                opacity: 0.2;
            }
        }

        /* POPUP STYLES */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 10000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; 
            background-color: rgba(0,0,0,0.8); 
            backdrop-filter: blur(5px);
            animation: modalFadeIn 0.5s ease-out;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto; 
            padding: 30px;
            border: 10px solid var(--primary-color);
            width: 80%; 
            max-width: 500px;
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(255, 107, 107, 0.8);
            text-align: center;
            position: relative;
            animation: popUpScale 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .modal-image {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: var(--primary-color);
            text-decoration: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popUpScale {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <audio id="backgroundMusic" loop>
        <source src="audio/audio1.mp3" type="audio/mpeg"> 
        Trình duyệt của bạn không hỗ trợ thẻ audio.
    </audio>

    <div class="container">
        <div class="header">
            <div class="title">20/10</div>
            <div class="subtitle">🎉 Happy Vietnamese Women's Day, My Love! 🌹</div>
        </div>

        <div class="main-content">
            <div class="hearts-container">
                <span class="heart-float">💖</span>
                <span class="heart-float">✨</span>
                <span class="heart-float">💗</span>
            </div>

            <div class="message">
                Món Quà Tinh Thần Anh Dành Cho Em, Người Con Gái Tuyệt Vời Nhất!
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <div class="gift-box" id="giftBox">
                    <div class="gift-ribbon"></div>
                    <div class="gift-bow"></div>
                    <span class="gift-box-icon">🎁</span>
                </div>
                <p style="font-style: italic; color: var(--love-text-color); font-weight: 600; font-size: 1.1rem;">
                    BẤM VÀO HỘP QUÀ ĐỂ NHẬN BẤT NGỜ! 🎁
                </p>
            </div>

            <div class="love-text">
                <span id="love-message">
                    "Em yêu, có em trong cuộc sống của anh là điều may mắn nhất. 
                    Anh yêu nụ cười rạng rỡ, sự thông minh và trái tim nhân hậu của em.
                    Mỗi ngày bên em là một món quà. Chúc mừng Ngày Phụ Nữ Việt Nam 20/10!
                    Anh yêu em rất nhiều!"
                </span>
            </div>

            <div class="gallery">
                <div class="gallery-item">💍</div> 
                <div class="gallery-item">🥂</div> 
                <div class="gallery-item">💐</div> 
                <div class="gallery-item">💌</div> 
            </div>
            
            </div>
    </div>

    <div id="loveModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 style="color: var(--primary-color);">Gửi Tặng Em Yêu!</h2>
            <img id="modalImage" src="img/love.jpg" alt="Ảnh người yêu" class="modal-image"> 
            <p class="modal-text">
                Chúc Em 20/10 Luôn Xinh Đẹp, Hạnh Phúc, Và Thành Công!
            </p>
            <p style="color: #666; font-weight: 600;">Yêu Em 💖</p>
        </div>
    </div>

    <script>
        // --- Configuration ---
        const MUSIC_PLAYER = document.getElementById('backgroundMusic');

        /** Function to play music (must be user-initiated) */
        function playMusic() {
            // Chỉ play nếu chưa phát
            if (MUSIC_PLAYER.paused) {
                MUSIC_PLAYER.play().catch(error => {
                    console.error("Không thể tự động phát nhạc:", error);
                });
            }
        }
        
        /** Creates a sparkling, falling heart. */
        function createFallingHeart(isBling = false) {
            const heart = document.createElement('div');
            heart.className = 'falling-heart';
            const emojis = isBling ? ['✨', '🌟', '💫', '💖'] : ['💕', '❤️', '💗', '💜'];
            heart.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            const size = Math.random() * 1.5 + 1;
            heart.style.fontSize = size + 'rem';
            const duration = Math.random() * 3 + 4;
            heart.style.animationDuration = duration + 's';
            heart.style.animationDelay = Math.random() * 0.5 + 's';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, duration * 1000 + 500); 
        }

        /** Spawns multiple falling hearts. */
        function spawnHearts(count, isBling) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => createFallingHeart(isBling), i * 150);
            }
        }

        /** Handles the gift box click - Tích hợp 3 chức năng */
        document.getElementById('giftBox').addEventListener('click', function() {
            
            // 1. Kích hoạt hiệu ứng lắc hộp quà
            this.style.animation = 'none';
            setTimeout(() => {
                this.style.animation = 'pulse 0.3s ease-out 3';
            }, 10);
            
            // 2. Phát nhạc
            playMusic();
            
            // 3. Hiển thị pop-up và mưa trái tim bling
            spawnHearts(50, true); 
            document.getElementById('loveModal').style.display = 'block';
        });

        /** Closes the pop-up modal. */
        function closeModal() {
            document.getElementById('loveModal').style.display = 'none';
        }

        // Close modal when user clicks anywhere outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('loveModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Initialize general floating hearts on page load
        window.addEventListener('load', function() {
            spawnHearts(15, false);
        });
    </script>
</body>
</html>